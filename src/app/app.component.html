<ng-container *ngIf="data$ | async as vm">
  <main>
    <div class="btn-container">
      <button
        [disabled]="vm.isBtnDisabled"
        mat-raised-button
        color="primary"
        (click)="addUser()"
      >
        ADD USER
      </button>
    </div>
    <mat-table [dataSource]="vm.users" class="mat-elevation-z4">
      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.id }} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.name }} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="active">
        <mat-header-cell *matHeaderCellDef>Active</mat-header-cell>
        <mat-cell *matCellDef="let element"
          ><mat-slide-toggle
            (change)="toggleChange($event, element)"
            [checked]="element.isActive"
          ></mat-slide-toggle
        ></mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
  </main>
</ng-container>
